macro(declare_internal_library libname)
	string(TOUPPER ${libname} libname_upper)
	set(${libname_upper}_INCLUDE_DIRS "${CMAKE_CURRENT_SOURCE_DIR}/lib${libname}/src/include")
	add_subdirectory(lib${libname})
endmacro()

macro(declare_customer_cap cap default_dev default_customer)
	# Default value
	if (NOT DEFINED ${cap})
		if (PICVIZ_DEVELOPER_MODE)
			set(${cap} ${default_dev})
		else()
			set(${cap} ${default_customer})
		endif()
	endif()
endmacro()

macro(declare_pv_test target files libs)
	add_executable(${target} EXCLUDE_FROM_ALL ${files})
	target_link_libraries(${target} ${libs})
	add_dependencies(alltests ${target})
endmacro()
