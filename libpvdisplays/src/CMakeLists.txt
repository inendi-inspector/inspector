#
# \file CMakeLists.txt
#
# Copyright (C) Picviz Labs 2010-2012

set(LIBDISPLAYS_SRC_FILES
PVDisplayIf.cpp
PVDisplaysImpl.cpp
)

set(LIBDISPLAYS_HEADER_FILES
include/pvdisplays/PVDisplayIf.h
include/pvdisplays/PVDisplaysImpl.h
)

SET(LIBDISPLAYS_MOC_HEADERS
)

SET(UI_FILES
)

SET(QRC_FILES
)

QT4_ADD_RESOURCES(QRC_FILES_SRCS ${QRC_FILES})

set(SRC_FILES ${LIBDISPLAYS_SRC_FILES})
set(HEADER_FILES ${LIBDISPLAYS_HEADER_FILES})
set(MOC_HEADERS ${LIBDISPLAYS_MOC_HEADERS})
QT4_WRAP_CPP(MOC_SRC ${MOC_HEADERS} OPTIONS ${QT4_WRAP_OPTIONS})
QT4_ADD_RESOURCES(QRC_FILES_SRCS ${QRC_FILES})
PV_QT4_WRAP_UI(UI_SRC ${UI_FILES})

PV_QT4_UI_INC_DIR(UI_INC_DIR)
include_directories(AFTER ${UI_INC_DIR})

add_library(pvdisplays SHARED ${SRC_FILES} ${HEADER_FILES} ${MOC_SRC} ${MOC_HEADERS} ${QRC_FILES_SRCS} ${UI_FILES})

set_target_properties(pvdisplays PROPERTIES SOVERSION 1)

set(PVDISPLAYS_LINK_LIBRARIES picviz pvkernel ${QT_LIBRARIES} ${TBB_LIBRARIES} ${OpenMP_LIBRARIES})

target_link_libraries(pvdisplays ${PVDISPLAYS_LINK_LIBRARIES})

INSTALL(TARGETS pvdisplays LIBRARY DESTINATION .
                           RUNTIME DESTINATION .)
